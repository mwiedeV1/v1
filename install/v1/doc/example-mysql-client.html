
	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
	<html xmlns="http://www.w3.org/1999/xhtml">
	
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />	
		<title>V1 Script - MySQL Client</title>
		<link rel="stylesheet" type="text/css" href="css/style.css" />
	</head>
	
	<body>
	
	<div class="logo"><a href="index.html"><img src="images/v1_logo.png" alt="V1 Script"/></a></div>
	
	<div class="page_wrap">
	<h1>Example: Connect to MySQL database</h1>
<p>Demonstrates how to access MySQL databases.<br>
MySQL functions are defined in <strong>lib/mysql.inc.v1</strong></p>
<p>Note: You need to install MySQL client libraries.</p>
<p>Try:<br>
apt-get install libmysqlclient-dev<br>
apt-get install default-libmysqlclient-dev<br>
apt-get install libmariadb-dev-compat libmariadb-dev</p>
<pre><code><span style="color: #000000"></span><span style="color: #0000BB;">&lt;?</span><span style="color: #000000">v1<br /></span><span style="color: #0000BB;">require_once&nbsp;(</span><span style="color: #DD0000">"lib/mysql.inc.v1"</span><span style="color: #0000BB;">);<br /><br /></span><span style="color: #008000">//&nbsp;Connection&nbsp;parameters<br /></span><span style="color: #0000BB;">const&nbsp;</span><span style="color: #000000">MYSQL_HOST&nbsp;</span><span style="color: #0000BB;">=&nbsp;</span><span style="color: #DD0000">"localhost"</span><span style="color: #0000BB;">;<br />const&nbsp;</span><span style="color: #000000">MYSQL_PORT&nbsp;</span><span style="color: #0000BB;">=&nbsp;</span><span style="color: #000000">3306</span><span style="color: #0000BB;">;<br />const&nbsp;</span><span style="color: #000000">MYSQL_USER&nbsp;</span><span style="color: #0000BB;">=&nbsp;</span><span style="color: #DD0000">"root"</span><span style="color: #0000BB;">;<br />const&nbsp;</span><span style="color: #000000">MYSQL_PASSWORD&nbsp;</span><span style="color: #0000BB;">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #0000BB;">;<br />const&nbsp;</span><span style="color: #000000">MYSQL_DATABASE&nbsp;</span><span style="color: #0000BB;">=&nbsp;</span><span style="color: #DD0000">"mysql"</span><span style="color: #0000BB;">;<br /><br />print&nbsp;(</span><span style="color: #DD0000">"Library:&nbsp;"</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #000000">mySQLLibName</span><span style="color: #0000BB;">);<br /><br /></span><span style="color: #008000">//&nbsp;Connect&nbsp;to&nbsp;database&nbsp;and&nbsp;read&nbsp;table<br /></span><span style="color: #000000">mysql&nbsp;</span><span style="color: #0000BB;">=&nbsp;</span><span style="color: #000000">mysql_init&nbsp;</span><span style="color: #0000BB;">();<br /><br />if&nbsp;(</span><span style="color: #000000">mysql&nbsp;</span><span style="color: #0000BB;">&amp;&amp;&nbsp;</span><span style="color: #000000">mysql_connect&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">mysql</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #000000">MYSQL_HOST</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #000000">MYSQL_USER</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #000000">MYSQL_PASSWORD</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #000000">MYSQL_DATABASE</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #000000">MYSQL_PORT</span><span style="color: #0000BB;">))<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Connected&nbsp;to&nbsp;MySQL&nbsp;Server&nbsp;"</span><span style="color: #0000BB;">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">mysql_get_server_info&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">mysql</span><span style="color: #0000BB;">),&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;with&nbsp;Client&nbsp;"</span><span style="color: #0000BB;">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">mysql_get_client_info&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">mysql</span><span style="color: #0000BB;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">mysql_query&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">mysql</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #DD0000">"set&nbsp;names&nbsp;utf8"</span><span style="color: #0000BB;">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//&nbsp;Query&nbsp;a&nbsp;table<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB;">if&nbsp;(&nbsp;</span><span style="color: #000000">result</span><span style="color: #0000BB;">=</span><span style="color: #000000">mysql_query&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">mysql</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #DD0000">"select&nbsp;*&nbsp;from&nbsp;user"</span><span style="color: #0000BB;">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">data&nbsp;</span><span style="color: #0000BB;">=&nbsp;array&nbsp;();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</span><span style="color: #000000">mysql_fetch_array&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">result</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #000000">data</span><span style="color: #0000BB;">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;(</span><span style="color: #000000">data</span><span style="color: #0000BB;">[</span><span style="color: #DD0000">"Host"</span><span style="color: #0000BB;">],&nbsp;</span><span style="color: #DD0000">";"</span><span style="color: #0000BB;">,&nbsp;</span><span style="color: #000000">data</span><span style="color: #0000BB;">[</span><span style="color: #DD0000">"User"</span><span style="color: #0000BB;">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">mysql_free_result&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">result</span><span style="color: #0000BB;">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;(</span><span style="color: #000000">mysql_error&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">mysql</span><span style="color: #0000BB;">));<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br />else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;(</span><span style="color: #000000">mysql_error&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">mysql</span><span style="color: #0000BB;">));<br />}<br /></span><span style="color: #000000">mysql_close&nbsp;</span><span style="color: #0000BB;">(</span><span style="color: #000000">mysql</span><span style="color: #0000BB;">);<br /><br /></span><span style="color: #000000">?&gt;</span></code></pre>
<p><a href="index.html">back to Home</a></p>
	</div>
	<footer>
		<p>V1 Version 0.96 - Documentation generated Sun, 27 Aug 2023 15:40</p>
	</footer>
	</body>
	</html>
	
	